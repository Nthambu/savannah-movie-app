<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand" routerLink="/">MovieFinder</a>
    <div class="d-flex">
      <!-- 
        Use the async pipe to subscribe to user$
        and *ngIf to check if the user object exists.
      -->
      <ng-container *ngIf="user$ | async as user; else showLogin">
        <!-- If user is logged in, show their name and a logout button -->
        <span class="navbar-text me-3"> Welcome, {{ user.displayName || user.email }} </span>
        <button class="btn btn-outline-light" (click)="onLogout()">Logout</button>
      </ng-container>

      <!-- Template to show if user is logged out -->
      <ng-template #showLogin>
        <button class="btn btn-outline-light" (click)="onLogin()">Login with Google</button>
      </ng-template>
    </div>
  </div>
</nav>
